{
  "sample_id": "example_001_globaltest",
  "timestamp_utc": "2025-11-02T13:41:52.366317+00:00",
  "machine_prompt": "OVERALL TASK:\n- Write a short story (around 200–300 words) showing cooperation among forest animals during a storm.\n\nGLOBAL MANDATORY CONSTRAINTS:\nYou MUST satisfy ALL of the following properties throughout the entire answer:\n- The answer must be at least 184 words long (approximately comparable length to the provided reference).\n- The answer must be written primarily in English.\n- The answer should maintain an objective, third-person analytic voice without using first-person pronouns.\n\nREQUIRED OUTPUT STRUCTURE (STAGED PLAN):\nYour answer MUST be organized into the following stages / sections.\nYou do not need to literally copy these headings, but you MUST perform the listed duties.\n\nTBD:\nCover all of the following points:\n  • Maintain a neutral, analytical tone without emotional or inflammatory language.\n  • Provide a sufficiently detailed explanation of the topic with at least 50 words.\n\nTBD:\nCover all of the following points:\n  • Maintain a neutral, analytical tone without emotional or inflammatory language.\n  • Provide a sufficiently detailed explanation of the topic with at least 50 words.\n\nTBD:\nChoose one of the following story paths:\nIf you want to stay with the cooperative storyline:\n  TBD:\n    • Maintain a neutral, analytical tone without emotional or inflammatory language.\n    • Provide a sufficiently detailed explanation of the topic with at least 50 words.\n  TBD:\n    • Maintain a neutral, analytical tone without emotional or inflammatory language.\n    • Provide a sufficiently detailed explanation of the topic with at least 50 words.\n  TBD:\n    • Maintain a neutral, analytical tone without emotional or inflammatory language.\n    • Provide a sufficiently detailed explanation of the topic with at least 50 words.\nOtherwise, if a radically different storyline is required:\n  TBD:\n    • Reimagine this stage with a fundamentally different narrative focus.\n    • Introduce a new conflict that redirects the subsequent storyline.\n    • Diagnose at least two critical failures driving the alternate scenario.\n    • Maintain an openly critical tone that assigns accountability for those failures.\n    • Lay out an urgent recovery plan using numbered steps.\n    • Highlight the need for rapid collaborative action to stabilize the situation.\n  TBD (alternate path):\n    • Diagnose at least two critical failures driving the alternate scenario.\n    • Maintain an openly critical tone that assigns accountability for those failures.\n  TBD (alternate path):\n    • Lay out an urgent recovery plan using numbered steps.\n    • Highlight the need for rapid collaborative action to stabilize the situation.\n\nSCENARIO CONDITION:\n- TBD: ensure the story maintain a neutral, analytical tone without emotional or inflammatory language.; switch only if a radically different storyline is required.\n\nEVALUATION NOTICE:\n- Your answer will be checked against the global requirements, each stage’s duties, and whichever branch you choose for conditional stages.\n- Pick one branch whenever a stage presents an IF/ELSE choice, and stay consistent with that path.\n- Automated checks will verify language, tone, required details, and any promised alternate storyline tasks.\n",
  "eval_protocol": {
    "seed_task": "Write a short story (around 200–300 words) showing cooperation among forest animals during a storm.",
    "global_scoring": [
      {
        "cid": "G1",
        "desc": "The answer must be at least 184 words long (approximately comparable length to the provided reference).",
        "verifier": {
          "check": "min_word_count",
          "args": {
            "min_words": 184
          }
        },
        "logic": "MANDATORY_GLOBAL"
      },
      {
        "cid": "G2",
        "desc": "The answer must be written primarily in English.",
        "verifier": {
          "check": "require_language",
          "args": {
            "lang": "en"
          }
        },
        "logic": "MANDATORY_GLOBAL"
      },
      {
        "cid": "G3",
        "desc": "The answer should maintain an objective, third-person analytic voice without using first-person pronouns.",
        "verifier": {
          "check": "forbid_first_person",
          "args": {}
        },
        "logic": "MANDATORY_GLOBAL"
      }
    ],
    "block_scoring": [
      {
        "block_id": "B1",
        "role": "TBD",
        "logic_type": "AND",
        "is_alternate": false,
        "origin_block": null,
        "requirements": [
          {
            "cid": "B1_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B1_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ]
      },
      {
        "block_id": "B2",
        "role": "TBD",
        "logic_type": "AND",
        "is_alternate": false,
        "origin_block": null,
        "requirements": [
          {
            "cid": "B2_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B2_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ]
      },
      {
        "block_id": "B3",
        "role": "TBD",
        "logic_type": "AND",
        "is_alternate": false,
        "origin_block": null,
        "requirements": [
          {
            "cid": "B3_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B3_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ]
      },
      {
        "block_id": "B4",
        "role": "TBD",
        "logic_type": "AND",
        "is_alternate": false,
        "origin_block": null,
        "requirements": [
          {
            "cid": "B4_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B4_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ]
      },
      {
        "block_id": "B5",
        "role": "TBD",
        "logic_type": "AND",
        "is_alternate": false,
        "origin_block": null,
        "requirements": [
          {
            "cid": "B5_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B5_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ]
      }
    ],
    "conditional_scoring": [
      {
        "sid": "SEL_B3",
        "where": "B3 TBD",
        "condition": "If a radically different storyline is required",
        "selection_type": "global",
        "merge_point": null,
        "truncated": false,
        "branch_real_block": "B3",
        "branch_alt_block": "B3_ALT",
        "alt_path_blocks": [
          "B3_ALT",
          "B3_ALT_NEXT1",
          "B3_ALT_NEXT2"
        ],
        "branch_real": [
          {
            "cid": "B3_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "verifier": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B3_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "verifier": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            }
          }
        ],
        "branch_alt": [
          {
            "cid": "B3_ALT_C1",
            "desc": "Reimagine this stage with a fundamentally different narrative focus.",
            "verifier": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "new path"
                ]
              }
            }
          },
          {
            "cid": "B3_ALT_C2",
            "desc": "Introduce a new conflict that redirects the subsequent storyline.",
            "verifier": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "conflict"
                ]
              }
            }
          },
          {
            "cid": "B3_ALT_NEXT1_C1",
            "desc": "Diagnose at least two critical failures driving the alternate scenario.",
            "verifier": {
              "check": "must_list_n_subpoints",
              "args": {
                "n": 2
              }
            }
          },
          {
            "cid": "B3_ALT_NEXT1_C2",
            "desc": "Maintain an openly critical tone that assigns accountability for those failures.",
            "verifier": {
              "check": "tone_negative_llm_judge",
              "args": {}
            }
          },
          {
            "cid": "B3_ALT_NEXT2_C1",
            "desc": "Lay out an urgent recovery plan using numbered steps.",
            "verifier": {
              "check": "min_numbered_items",
              "args": {
                "n": 2
              }
            }
          },
          {
            "cid": "B3_ALT_NEXT2_C2",
            "desc": "Highlight the need for rapid collaborative action to stabilize the situation.",
            "verifier": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "urgent",
                  "collaboration"
                ]
              }
            }
          }
        ],
        "scoring_rule": {
          "must_choose_one_branch": true,
          "branch_real_logic": "AND",
          "branch_alt_logic": "AND"
        }
      }
    ],
    "meta": {
      "assembled_from": {
        "step1": "seed_task",
        "step2": "segmentation",
        "step3": "global_constraints",
        "step4": "block_constraints + block_logic",
        "step5": "selections + augmented block_constraints"
      }
    }
  },
  "graph_serialized": {
    "seed_task": "Write a short story (around 200–300 words) showing cooperation among forest animals during a storm.",
    "global_constraints": [
      {
        "cid": "G1",
        "desc": "The answer must be at least 184 words long (approximately comparable length to the provided reference).",
        "scope": "global",
        "verifier_spec": {
          "check": "min_word_count",
          "args": {
            "min_words": 184
          }
        },
        "trace_to": null,
        "derived_from": "step3"
      },
      {
        "cid": "G2",
        "desc": "The answer must be written primarily in English.",
        "scope": "global",
        "verifier_spec": {
          "check": "require_language",
          "args": {
            "lang": "en"
          }
        },
        "trace_to": null,
        "derived_from": "step3"
      },
      {
        "cid": "G3",
        "desc": "The answer should maintain an objective, third-person analytic voice without using first-person pronouns.",
        "scope": "global",
        "verifier_spec": {
          "check": "forbid_first_person",
          "args": {}
        },
        "trace_to": null,
        "derived_from": "step3"
      }
    ],
    "block_specs": [
      {
        "block_id": "B1",
        "intent": "TBD",
        "text_span": "**Title:** *The Storm and the Grove*",
        "order_index": 0,
        "is_alternate": false,
        "origin_block": null
      },
      {
        "block_id": "B2",
        "intent": "TBD",
        "text_span": "One morning, the forest woke to a sky heavy with gray. The wind whispered through the leaves, warning of a coming storm. Squirrel dashed about, trying to gather the last acorns, while Rabbit helped pull branches to reinforce the hollow where they all sometimes rested. Above them, Finch called out, “Tie the leaves together! The rain will be fierce!” Even the slow Tortoise dragged fallen bark toward the roots of an old oak, making a sturdy shelter.",
        "order_index": 1,
        "is_alternate": false,
        "origin_block": null
      },
      {
        "block_id": "B3",
        "intent": "TBD",
        "text_span": "By afternoon, the storm came roaring. Rain thudded on the canopy, and lightning flashed beyond the hills. The animals huddled together inside their shared shelter—fur, feathers, and shells pressed close. Squirrel trembled, but Bear’s deep voice rumbled softly, calming them. Finch fluttered near the entrance, watching until the thunder passed. When the wind finally eased, they all stepped out to see broken branches and soaked nests scattered around.",
        "order_index": 2,
        "is_alternate": false,
        "origin_block": null
      },
      {
        "block_id": "B3_ALT",
        "intent": "TBD",
        "text_span": "By afternoon, the storm came roaring. Rain thudded on the canopy, and lightning flashed beyond the hills. The animals huddled together inside their shared shelter—fur, feathers, and shells pressed close. Squirrel trembled, but Bear’s deep voice rumbled softly, calming them. Finch fluttered near the entrance, watching until the thunder passed. When the wind finally eased, they all stepped out to see broken branches and soaked nests scattered around.",
        "order_index": 2,
        "is_alternate": true,
        "origin_block": "B3"
      },
      {
        "block_id": "B3_ALT_NEXT1",
        "intent": "TBD (alternate path)",
        "text_span": "Alternate storyline continuation derived from B4.",
        "order_index": 3,
        "is_alternate": true,
        "origin_block": "B4"
      },
      {
        "block_id": "B4",
        "intent": "TBD",
        "text_span": "They worked together through the following day. Beaver repaired the stream dam, Fox carried twigs for the smaller nests, and the deer cleared the paths again. Soon, the forest seemed alive with quiet gratitude.",
        "order_index": 3,
        "is_alternate": false,
        "origin_block": null
      },
      {
        "block_id": "B3_ALT_NEXT2",
        "intent": "TBD (alternate path)",
        "text_span": "Alternate storyline continuation derived from B5.",
        "order_index": 4,
        "is_alternate": true,
        "origin_block": "B5"
      },
      {
        "block_id": "B5",
        "intent": "TBD",
        "text_span": "When the sun returned, its light shone on every creature, large and small, each one helping another in some gentle way. From that day on, they remembered: a forest stands strong not because its trees are tall, but because its hearts grow together.",
        "order_index": 4,
        "is_alternate": false,
        "origin_block": null
      }
    ],
    "block_constraint_sets": [
      {
        "block_id": "B1",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B1_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            },
            "trace_to": "B1",
            "derived_from": "step4"
          },
          {
            "cid": "B1_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            },
            "trace_to": "B1",
            "derived_from": "step4"
          }
        ]
      },
      {
        "block_id": "B2",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B2_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            },
            "trace_to": "B2",
            "derived_from": "step4"
          },
          {
            "cid": "B2_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            },
            "trace_to": "B2",
            "derived_from": "step4"
          }
        ]
      },
      {
        "block_id": "B3",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B3_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            },
            "trace_to": "B3",
            "derived_from": "step4"
          },
          {
            "cid": "B3_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            },
            "trace_to": "B3",
            "derived_from": "step4"
          }
        ]
      },
      {
        "block_id": "B3_ALT",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B3_ALT_C1",
            "desc": "Reimagine this stage with a fundamentally different narrative focus.",
            "scope": "local",
            "verifier_spec": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "new path"
                ]
              }
            },
            "trace_to": "B3_ALT",
            "derived_from": "step5"
          },
          {
            "cid": "B3_ALT_C2",
            "desc": "Introduce a new conflict that redirects the subsequent storyline.",
            "scope": "local",
            "verifier_spec": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "conflict"
                ]
              }
            },
            "trace_to": "B3_ALT",
            "derived_from": "step5"
          }
        ]
      },
      {
        "block_id": "B3_ALT_NEXT1",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B3_ALT_NEXT1_C1",
            "desc": "Diagnose at least two critical failures driving the alternate scenario.",
            "scope": "local",
            "verifier_spec": {
              "check": "must_list_n_subpoints",
              "args": {
                "n": 2
              }
            },
            "trace_to": "B3_ALT_NEXT1",
            "derived_from": "step5"
          },
          {
            "cid": "B3_ALT_NEXT1_C2",
            "desc": "Maintain an openly critical tone that assigns accountability for those failures.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_negative_llm_judge",
              "args": {}
            },
            "trace_to": "B3_ALT_NEXT1",
            "derived_from": "step5"
          }
        ]
      },
      {
        "block_id": "B3_ALT_NEXT2",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B3_ALT_NEXT2_C1",
            "desc": "Lay out an urgent recovery plan using numbered steps.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_numbered_items",
              "args": {
                "n": 2
              }
            },
            "trace_to": "B3_ALT_NEXT2",
            "derived_from": "step5"
          },
          {
            "cid": "B3_ALT_NEXT2_C2",
            "desc": "Highlight the need for rapid collaborative action to stabilize the situation.",
            "scope": "local",
            "verifier_spec": {
              "check": "must_include_keywords",
              "args": {
                "keywords": [
                  "urgent",
                  "collaboration"
                ]
              }
            },
            "trace_to": "B3_ALT_NEXT2",
            "derived_from": "step5"
          }
        ]
      },
      {
        "block_id": "B4",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B4_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            },
            "trace_to": "B4",
            "derived_from": "step4"
          },
          {
            "cid": "B4_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            },
            "trace_to": "B4",
            "derived_from": "step4"
          }
        ]
      },
      {
        "block_id": "B5",
        "logic_type": "AND",
        "constraints": [
          {
            "cid": "B5_C1",
            "desc": "Maintain a neutral, analytical tone without emotional or inflammatory language.",
            "scope": "local",
            "verifier_spec": {
              "check": "tone_neutral_llm_judge",
              "args": {}
            },
            "trace_to": "B5",
            "derived_from": "step4"
          },
          {
            "cid": "B5_C2",
            "desc": "Provide a sufficiently detailed explanation of the topic with at least 50 words.",
            "scope": "local",
            "verifier_spec": {
              "check": "min_word_count",
              "args": {
                "min_words": 50
              }
            },
            "trace_to": "B5",
            "derived_from": "step4"
          }
        ]
      }
    ],
    "selections": [
      {
        "sid": "SEL_B3",
        "condition": "If a radically different storyline is required",
        "trace_to": "B3",
        "branch_real": {
          "block_id": "B3",
          "constraints": [
            "B3_C1",
            "B3_C2"
          ]
        },
        "branch_alt": {
          "block_id": "B3_ALT",
          "constraints": [
            "B3_ALT_C1",
            "B3_ALT_C2",
            "B3_ALT_NEXT1_C1",
            "B3_ALT_NEXT1_C2",
            "B3_ALT_NEXT2_C1",
            "B3_ALT_NEXT2_C2"
          ]
        },
        "derived_from": "step5",
        "selection_type": "global",
        "merge_point": null,
        "truncated": false,
        "alt_path_blocks": [
          "B3_ALT",
          "B3_ALT_NEXT1",
          "B3_ALT_NEXT2"
        ]
      }
    ],
    "meta": {
      "assembled_from": {
        "step1": "seed_task",
        "step2": "segmentation",
        "step3": "global_constraints",
        "step4": "block_constraints + block_logic",
        "step5": "selections + augmented block_constraints"
      }
    }
  },
  "meta": {
    "assembled_from": {
      "step1": "seed_task",
      "step2": "segmentation",
      "step3": "global_constraints",
      "step4": "block_constraints + block_logic",
      "step5": "selections + augmented block_constraints"
    }
  }
}